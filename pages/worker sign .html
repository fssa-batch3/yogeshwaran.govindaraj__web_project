<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../assest/css/worker sign.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css"
        integrity="sha512-MV7K8+y+gLIBoVD59lQIYicR65iaqukzvf/nwasF0nqhPay5w/9lJmVM2hMDcnK1OnMGCdVK+iQrJ7lzPJQd1w=="
        crossorigin="anonymous" referrerpolicy="no-referrer">
    <title> worker SignUp</title>
</head>

<body>
    <div class="container1">

        <form id="form">

            <div class="main1">

                <h1>Sign up </h1>

                <p class="sim"> User Name</p>
                <input type="text" id="username" pattern="[A-Za-z]+" title="Name should be in letters"
                    placeholder="Name" required>


                <p class="sim1">Email</p>
                <input type="email" id="email" placeholder="Email" required>

                <p for="phone" class="sim">Phone number</p>
                <input type="tel" id="phone" pattern="[0-9]{10}" maxlength="10" minlength="10"
                    placeholder="Phone number" required>


                <p class="sim3"> Password</p>
                <input type="password" id="password"
                    pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*_=+-]).{8,32}$" placeholder="Password"
                    required>

                <p class="sim2"> Confirm Password</p>
                <input type="password" id="password"
                    pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*_=+-]).{8,32}$"
                    placeholder="Confirm Password" required>

                <button onclick="submit()" class="btn" type="submit" id="signupbtn">Sign
                    Up</button>

                <div class="link">
                    <p>Don't have an Account? <a href="../pages/login worker.html">Log Inâ†’</a></p>
                </div>


                <a href="../pages/login user page.html"></a>

                <!-- icon -->
                <div class="icon">
                    <i class="fa-brands fa-facebook"></i>
                    <i class="fa-brands fa-instagram"></i>
                    <i class="fa-brands fa-linkedin"></i>
                </div>
            </div>
        </form>
    </div>

    <script>
        // -----------------
        let form = document.getElementById('form')

        form.addEventListener('submit', function (event) {
            event.preventDefault();

            let worker = []
            let defaultData = JSON.parse(localStorage.getItem("worker_sign"));
            console.log(defaultData);

            const username = document.getElementById('username').value
            const phone = document.getElementById('phone').value
            const email = document.getElementById('email').value
            const password = document.getElementById('password').value

            // if (worker_sign in localStorage) {
            //     users = JSON.parse(localStorage.getItem(worker_sign));
            // }
            let userObject = {
                username,
                phone,
                email,
                password,
                // confirmPassword: document.getElementById('confirmpassword').value,
            };
            worker.push(userObject);
            localStorage.setItem(defaultData, JSON.stringify(worker));
            console.log('appended to the local storage.');

            window.location.href = "/pages/login worker.html";

        });

        function submit() {

        }




    </script>










    <script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.21.0/firebase-app.js";
        import {
            getDatabase,
            set,
            ref,
            onValue,
            push,
        } from "https://www.gstatic.com/firebasejs/9.21.0/firebase-database.js";



        // Your web app's Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyAA1xUBYSexbuDjnNBhTFTueJ8D_yaC68U",
            authDomain: "garbage-collection-websi-7119c.firebaseapp.com",
            databaseURL: "https://garbage-collection-websi-7119c-default-rtdb.firebaseio.com",
            projectId: "garbage-collection-websi-7119c",
            storageBucket: "garbage-collection-websi-7119c.appspot.com",
            messagingSenderId: "697337601892",
            appId: "1:697337601892:web:b6440831b346f6a06ca471"
        };


        // Initialize Firebase
        const app = initializeApp(firebaseConfig);


        //database collection create the firebase//

        let database = getDatabase();

        console.log(database);

        //get reffrences to key name create in database//
        const starCountRef = ref(database, 'name/');
        onValue(starCountRef, (snapshot) => {
            const data = snapshot.val();

            console.log(data)
        });

    </script>


    <a href="../pages/login user page.html"></a>

</body>

</html>