<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LOGIN FORM</title>
    <link rel="stylesheet" href="../assets/CSS/style-login user.css">
</head>

<body>

    <div class="container">
        <h1>Log In!</h1>
        <hr>
        <form id="form">
            <label for="email"><b>Email</b></label><br>
            <input type="email" placeholder="Enter User email" name="email" id="email"><br>

            <label for="psw"><b>Password</b></label><br>
            <input type="password" placeholder="Enter Password" name="psw" id="password"><br>

            <button type="submit">Login</button><br>
        </form>
        <hr>
        <div class="footer">
            <label>
                <input type="checkbox" checked="checked" name="remember">
                Remember me</label>
            <p>Forgot Password?</p>
        </div>
    </div>


    <!--java script-->
    <script>

        let logIn = document.getElementById("form");
        logIn.addEventListener("submit", (event) => {
            event.preventDefault();

            let user_arr = [];

            let defaultData = JSON.parse(localStorage.getItem("user_info"));
            console.log(defaultData);

            let email = document.getElementById("email").value;
            let password = document.getElementById("password").value;

            console.log(email, password);

            //   [  { }, {}, {}, {}, {0}, {} ]

            let isMatch = false;

            for (let i = 0; i < defaultData.length; i++) {
                if (
                    email == defaultData[i].email &&
                    password == defaultData[i].password
                ) {
                    isMatch = true;

                    user_arr.push(defaultData[i]);
                    window.localStorage.setItem("login_user", JSON.stringify(user_arr));

                    break;

                } else {
                    isMatch = false;
                }
            }


            if (isMatch === true) {
                alert("success")

                // window.location.href = "";
            } else {
                alert("failed")
                // window.location.href ="";
            }



        });

    </script>


</body>

</html>