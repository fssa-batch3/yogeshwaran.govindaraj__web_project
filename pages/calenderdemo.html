<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css">
    <link rel="stylesheet" href="../assest/css/calendar demo.css    ">


    <title>calendar</title>


</head>

<body>

    <!-- <button class="out">Logout</button width="300px"> -->
    <header>
        <a href="../index.html"><img src="../assest/image/logo-removebg-preview.png" width="90px"></a>

        <a href="./profile.html"><img class="image" src="../assest/image/profile.png" alt="image" width="60px"></a>
        <a href="./user.notification.html"><button>Nofication</button></a>
        <a href="../index.html"><button class="log">Logout</button></a>
    </header>

    <div class="wrapper">
        <header>
            <P class="current-date">March 2023</P>
            <div class="icons">
                <span id="prev" class="fa-solid fa-less-than"></span>
                <span id="next" class="fa-solid fa-greater-than"></span>
            </div>
        </header>

        <div class="calendar">
            <ul class="weeks">
                <li>Sun</li>
                <li>Mon</li>
                <li>Tue</li>
                <li>Wed</li>
                <li>Thu</li>
                <li>Fri</li>
                <li>Sat</li>
            </ul>
            <ul class="days"></ul>
        </div>
    </div>


    <div class="card">
        <img src="../assest/image/profile.png" width="50">
        <p class="name">yogesh</p>
        <p class="phone">6380843014</p>

    </div>




    <!-- script -->








    <script src="./two link .js"></script>

    <script>

        let user = JSON.parse(localStorage.getItem(""))

        let card = document.createElement("div");
        card.setAttribute("class", "card");

        let img = document.createElement("img");
        img.setAttribute("width", "300px");
        img.setAttribute("alt", "image");
        card.append(img)

        let p1 = document.createElement("p")
        p1.setAttribute("class", "name");
        card.append(p1);

        let p2 = document.createElement("p")
        p2.setAttribute("class", "phone")
        card.append(p2);






        // let image = document.createElement("img");
        // image.setAttribute("width", "px");
        // image.setAttribute("src",);
        // image.setAttribute("alt", "image");
        // card.append(image);


























        const currentdate = document.querySelector(".current-date"),
            daysTag = document.querySelector(".days"),
            prevNextIcon = document.querySelectorAll(".icons span");

        // getting new date//

        let date = new Date(),
            currYear = date.getFullYear(),
            currMonth = date.getMonth();

        const month = ["January", "February", "March", "April", "May", "June", "July",
            "August", "September", "October", "November", "December"]

        const renderCalendar = () => {
            // last date of month//
            let firstDateofMonth = new Date(currYear, currMonth, 1).getDay(),//getting first day
                lastDateofMonth = new Date(currYear, currMonth + 1, 0).getDate(),//getting last date
                lastDayofMonth = new Date(currYear, currMonth, lastDateofMonth).getDay(),//getting last day
                lastDateofLastMonth = new Date(currYear, currMonth, 0).getDate();//getting last pervious date
            let liTag = "";

            for (let i = firstDateofMonth; i > 0; i--) {
                liTag += `<li class="inactive">${lastDateofLastMonth - i + 1}</li>`
            }


            for (let i = 1; i <= lastDateofMonth; i++) {
                //adding active current day 
                let isToday = i === date.getDate() && currMonth === new Date().getMonth()
                    && currYear === new Date().getFullYear() ? "active" : "";
                // liTag += `<li class="${isToday}">${i}</li>`

                const urlParams = new URLSearchParams(window.location.search);
                const selectedDate = new Date(urlParams.get("date"));
                console.log("The selected date is " + selectedDate.toString());

                // passing the code 

                let isSelectedDate = i === selectedDate.getDate() && currMonth === selectedDate.getMonth()
                    && currYear === selectedDate.getFullYear() ? "active" : "";
                liTag += `<li class="${isSelectedDate}">${i}</li>`
            }

            for (let i = lastDayofMonth; i < 6; i++) {
                liTag += `<li class="inactive">${i - lastDayofMonth + 1}</li>`
            }

            currentdate.innerText = `${month[currMonth]} ${currYear}`;
            daysTag.innerHTML = liTag;
        }
        renderCalendar();

        prevNextIcon.forEach(icon => {
            icon.addEventListener("click", () => {
                currMonth = icon.id === "prev" ? currMonth - 1 : currMonth + 1;

                if (currMonth < 0 || currMonth > 11) {

                    //new date an year pass
                    date = new Date(currYear, currMonth);
                    currYear = date.getFullYear();//new year
                    currMonth = date.getMonth();//new date month
                } else {
                    date = new Date();
                }
                renderCalendar();
            });
        });


        function pass() {
            window.location.href = "/pages/pick.html"
        }

    </script>

    <a href="../pages/user booking  list.html"></a>
</body>

</html>